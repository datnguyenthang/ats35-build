webpackJsonp([54],{1856:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"AddonNotesAddPageModule",function(){return l});var o=n(0),i=n(4),s=n(1983),a=n(1),r=n(15),d=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,a=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a},l=function(){function t(){}return t=d([Object(o.I)({declarations:[s.a],imports:[r.a,i.l.forChild(s.a),a.b.forChild()]})],t)}()},1983:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var o=n(0),i=n(4),s=n(9),a=n(8),r=n(165),d=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,a=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e,n,o,i){this.viewCtrl=e,this.appProvider=n,this.domUtils=o,this.notesProvider=i,this.publishState="personal",this.text="",this.processing=!1,this.userId=t.get("userId"),this.courseId=t.get("courseId")}return t.prototype.addNote=function(){var t=this;this.appProvider.closeKeyboard();var e=this.domUtils.showModalLoading("core.sending",!0);this.processing=!0,this.notesProvider.addNote(this.userId,this.courseId,this.publishState,this.text).then(function(e){t.viewCtrl.dismiss().finally(function(){t.domUtils.showAlertTranslated("core.success",e?"addon.notes.eventnotecreated":"core.datastoredoffline")})}).catch(function(e){t.domUtils.showErrorModal(e),t.processing=!1}).finally(function(){e.dismiss()})},t.prototype.closeModal=function(){this.viewCtrl.dismiss()},t=d([Object(o.m)({selector:"page-addon-notes-add",template:'<ion-header>\n    <ion-navbar>\n        <ion-title>{{ \'addon.notes.addnewnote\' | translate }}</ion-title>\n        <ion-buttons end>\n            <button ion-button icon-only (click)="closeModal()" [attr.aria-label]="\'core.close\' | translate">\n                <ion-icon name="close"></ion-icon>\n            </button>\n        </ion-buttons>\n    </ion-navbar>\n</ion-header>\n<ion-content padding>\n    <form name="itemEdit" (ngSubmit)="addNote()">\n        <ion-item>\n            <ion-label>{{ \'addon.notes.publishstate\' | translate }}</ion-label>\n            <ion-select [(ngModel)]="publishState" name="publishState" interface="popover">\n                <ion-option value="personal">{{ \'addon.notes.personalnotes\' | translate }}</ion-option>\n                <ion-option value="course">{{ \'addon.notes.coursenotes\' | translate }}</ion-option>\n                <ion-option value="site">{{ \'addon.notes.sitenotes\' | translate }}</ion-option>\n            </ion-select>\n        </ion-item>\n        <ion-item>\n            <ion-textarea placeholder="{{ \'addon.notes.note\' | translate }}" rows="5" [(ngModel)]="text" name="text" required="required"></ion-textarea>\n        </ion-item>\n        <button ion-button block margin-vertical type="submit" [disabled]="processing || text.length < 2">\n            {{ \'addon.notes.addnewnote\' | translate }}\n        </button>\n    </form>\n</ion-content>\n'}),l("design:paramtypes",[i.r,i.B,s.a,a.a,r.a])],t)}()}});