webpackJsonp([32],{1880:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o.d(t,"CoreLoginForgottenPasswordPageModule",function(){return c});var n=o(0),r=o(4),i=o(15),a=o(2008),s=o(1),l=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},c=function(){function e(){}return e=l([Object(n.I)({declarations:[a.a],imports:[i.a,r.l.forChild(a.a),s.b.forChild()]})],e)}()},2008:function(e,t,o){"use strict";o.d(t,"a",function(){return d});var n=o(0),r=o(4),i=o(1),a=o(8),s=o(71),l=o(20),c=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,o,n,r,i){this.navCtrl=e,this.translate=n,this.loginHelper=r,this.domUtils=i,this.siteUrl=t.get("siteUrl"),this.myForm=o.group({field:["username",l.h.required],value:[t.get("username")||"",l.h.required]})}return e.prototype.resetPassword=function(){var e=this,t=this.myForm.value.field,o=this.myForm.value.value;if(o){var n=this.domUtils.showModalLoading("core.sending",!0),r="email"==t;this.loginHelper.requestPasswordReset(this.siteUrl,r?"":o,r?o:"").then(function(t){"dataerror"==t.status?e.showError(r,t.warnings):"emailpasswordconfirmnotsent"==t.status||"emailpasswordconfirmnoemail"==t.status?e.domUtils.showErrorModal(t.notice):(e.domUtils.showAlert(e.translate.instant("core.success"),t.notice),e.navCtrl.pop())}).catch(function(t){e.domUtils.showErrorModal(t.error)}).finally(function(){n.dismiss()})}else this.domUtils.showErrorModal("core.login.usernameoremail",!0)},e.prototype.showError=function(e,t){for(var o=0;o<t.length;o++){var n=t[o];if("email"==n.item&&e||"username"==n.item&&!e){this.domUtils.showErrorModal(n.message);break}}},e=c([Object(n.m)({selector:"page-core-login-forgotten-password",template:'<ion-header>\n    <ion-navbar>\n        <ion-title>{{ \'core.login.passwordforgotten\' | translate }}</ion-title>\n    </ion-navbar>\n</ion-header>\n<ion-content>\n    <ion-list>\n        <ion-item text-wrap>\n            {{ \'core.login.passwordforgotteninstructions2\' | translate }}\n        </ion-item>\n    </ion-list>\n    <ion-card>\n        <form ion-list [formGroup]="myForm" (ngSubmit)="resetPassword()">\n            <ion-item-divider text-wrap color="light">\n                {{ \'core.login.searchby\' | translate }}\n            </ion-item-divider>\n            <div radio-group formControlName="field">\n                <ion-item>\n                    <ion-label>{{ \'core.login.username\' | translate }}</ion-label>\n                    <ion-radio value="username"></ion-radio>\n                </ion-item>\n                <ion-item>\n                    <ion-label>{{ \'core.user.email\' | translate }}</ion-label>\n                    <ion-radio value="email"></ion-radio>\n                </ion-item>\n            </div>\n            <ion-item>\n                <ion-input type="text" name="value" placeholder="{{ \'core.login.usernameoremail\' | translate }}" formControlName="value" autocapitalize="none" autocorrect="off" [core-auto-focus]></ion-input>\n            </ion-item>\n            <ion-item>\n                <button text-wrap ion-button block [disabled]="!myForm.valid">{{ \'core.courses.search\' | translate }}</button>\n            </ion-item>\n        </form>\n    </ion-card>\n</ion-content>\n'}),u("design:paramtypes",[r.q,r.r,l.a,i.c,s.a,a.a])],e)}()}});