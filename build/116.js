webpackJsonp([116],{1788:function(n,l,e){"use strict";function t(n){return o._42(0,[(n()(),o._16(0,0,null,null,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),o._15(1,16384,null,0,K.a,[L.a,o.p,o.K],{color:[0,"color"]},null),(n()(),o._40(2,null,["",""]))],function(n,l){n(l,1,0,l.parent.context.$implicit.usercompetency.proficiency?"success":"danger")},function(n,l){n(l,2,0,l.parent.context.$implicit.usercompetency.gradename)})}function u(n){return o._42(0,[(n()(),o._16(0,0,null,null,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),o._15(1,16384,null,0,K.a,[L.a,o.p,o.K],{color:[0,"color"]},null),(n()(),o._40(2,null,["",""]))],function(n,l){n(l,1,0,l.parent.context.$implicit.usercompetencycourse.proficiency?"success":"danger")},function(n,l){n(l,2,0,l.parent.context.$implicit.usercompetencycourse.gradename)})}function i(n){return o._42(0,[(n()(),o._16(0,0,null,null,15,"a",[["class","item item-block"],["ion-item",""],["text-wrap",""]],[[8,"title",0],[2,"core-split-item-selected",null]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.openCompetency(n.context.$implicit.competency.id)&&t}return t},k.b,k.a)),o._15(1,1097728,null,3,R.a,[T.a,L.a,o.p,o.K,[2,j.a]],null,null),o._37(335544320,2,{contentLabel:0}),o._37(603979776,3,{_buttons:1}),o._37(603979776,4,{_icons:1}),o._15(5,16384,null,0,D.a,[],null,null),(n()(),o._40(6,2,["\n                    "," "])),(n()(),o._16(7,0,null,2,1,"small",[],null,null,null,null,null)),(n()(),o._40(8,null,["",""])),(n()(),o._40(-1,2,["\n                    "])),(n()(),o._11(16777216,null,4,1,null,t)),o._15(11,16384,null,0,O.k,[o.W,o.T],{ngIf:[0,"ngIf"]},null),(n()(),o._40(-1,2,["\n                    "])),(n()(),o._11(16777216,null,4,1,null,u)),o._15(14,16384,null,0,O.k,[o.W,o.T],{ngIf:[0,"ngIf"]},null),(n()(),o._40(-1,2,["\n                "]))],function(n,l){n(l,11,0,l.context.$implicit.usercompetency);n(l,14,0,l.context.$implicit.usercompetencycourse)},function(n,l){n(l,0,0,l.context.$implicit.competency.shortname,l.context.$implicit.competency.id==l.component.competencyId);n(l,6,0,l.context.$implicit.competency.shortname);n(l,8,0,l.context.$implicit.competency.idnumber)})}function c(n){return o._42(0,[o._37(402653184,1,{splitviewCtrl:0}),(n()(),o._16(1,0,null,null,10,"ion-header",[],null,null,null,null,null)),o._15(2,16384,null,0,U.a,[L.a,o.p,o.K,[2,F.a]],null,null),(n()(),o._40(-1,null,["\n    "])),(n()(),o._16(4,0,null,null,6,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,M.b,M.a)),o._15(5,49152,null,0,W.a,[A.a,[2,F.a],[2,E.a],L.a,o.p,o.K],null,null),(n()(),o._40(-1,3,["\n        "])),(n()(),o._16(7,0,null,3,2,"ion-title",[],null,null,null,B.b,B.a)),o._15(8,49152,null,0,J.a,[L.a,o.p,o.K,[2,N.a],[2,W.a]],null,null),(n()(),o._40(9,0,["",""])),(n()(),o._40(-1,3,["\n    "])),(n()(),o._40(-1,null,["\n"])),(n()(),o._40(-1,null,["\n"])),(n()(),o._16(13,0,null,null,25,"core-split-view",[],null,null,null,V.b,V.a)),o._15(14,114688,[[1,4]],0,p.a,[[2,E.a],o.p],null,null),(n()(),o._40(-1,0,["\n    "])),(n()(),o._16(16,0,null,0,21,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,q.b,q.a)),o._15(17,4374528,null,0,z.a,[L.a,G.a,H.a,o.p,o.K,A.a,Q.a,o.D,[2,F.a],[2,E.a]],null,null),(n()(),o._40(-1,1,["\n        "])),(n()(),o._16(19,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(n,l,e){var t=!0;if("ionRefresh"===l){t=!1!==n.component.refreshCompetencies(e)&&t}return t},null,null)),o._15(20,212992,null,0,S.a,[G.a,z.a,o.D,X.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(n()(),o._40(-1,null,["\n            "])),(n()(),o._16(22,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,Y.b,Y.a)),o._15(23,114688,null,0,Z.a,[S.a,L.a],{pullingText:[0,"pullingText"]},null),o._32(131072,nn.a,[ln.a,o.i]),(n()(),o._40(-1,null,["\n        "])),(n()(),o._40(-1,1,["\n        "])),(n()(),o._16(27,0,null,1,9,"core-loading",[],null,null,null,en.b,en.a)),o._15(28,638976,null,0,tn.a,[ln.a,o.p],{hideUntil:[0,"hideUntil"]},null),(n()(),o._40(-1,0,["\n            "])),(n()(),o._16(30,0,null,0,5,"ion-list",[],null,null,null,null,null)),o._15(31,16384,null,0,un.a,[L.a,o.p,o.K,G.a,X.l,H.a],null,null),(n()(),o._40(-1,null,["\n                "])),(n()(),o._11(16777216,null,null,1,null,i)),o._15(34,802816,null,0,O.j,[o.W,o.T,o.v],{ngForOf:[0,"ngForOf"]},null),(n()(),o._40(-1,null,["\n            "])),(n()(),o._40(-1,0,["\n        "])),(n()(),o._40(-1,1,["\n    "])),(n()(),o._40(-1,0,["\n"]))],function(n,l){var e=l.component;n(l,14,0);n(l,20,0,e.competenciesLoaded);n(l,23,0,o._19(1,"",o._41(l,23,0,o._29(l,24).transform("core.pulltorefresh")),""));n(l,28,0,e.competenciesLoaded);n(l,34,0,e.competencies)},function(n,l){var e=l.component;n(l,4,0,o._29(l,5)._hidden,o._29(l,5)._sbPadding);n(l,9,0,e.title);n(l,16,0,o._29(l,17).statusbarPadding,o._29(l,17)._hasRefresher);n(l,19,0,"inactive"!==o._29(l,20).state,o._29(l,20)._top);n(l,22,0,o._29(l,23).r.state)})}Object.defineProperty(l,"__esModule",{value:!0});var o=e(1),a=(e(0),e(10),e(6)),r=e(32),s=e(5),p=e(133),_=e(214),d=function(){function n(n,l,e,t){this.translate=l,this.domUtils=e,this.competencyProvider=t,this.competenciesLoaded=!1,this.competencies=[],this.planId=n.get("planId"),this.courseId=n.get("courseId"),this.competencyId=n.get("competencyId"),this.userId=n.get("userId")}return n.prototype.ionViewDidLoad=function(){var n=this;this.competencyId&&this.openCompetency(this.competencyId),this.fetchCompetencies().then(function(){!n.competencyId&&n.splitviewCtrl.isOn()&&n.competencies.length>0&&n.openCompetency(n.competencies[0].id)}).finally(function(){n.competenciesLoaded=!0})},n.prototype.fetchCompetencies=function(){var n=this;return(this.planId?this.competencyProvider.getLearningPlan(this.planId):this.courseId?this.competencyProvider.getCourseCompetencies(this.courseId,this.userId):Promise.reject(null)).then(function(l){if(l.competencycount<=0)return Promise.reject(n.translate.instant("addon.competency.errornocompetenciesfound"));n.planId?(n.title=l.plan.name,n.userId=l.plan.userid):n.title=n.translate.instant("addon.competency.coursecompetencies"),n.competencies=l.competencies}).catch(function(l){n.domUtils.showErrorModalDefault(l,"Error getting competencies data.")})},n.prototype.openCompetency=function(n){this.competencyId=n;this.splitviewCtrl.push("AddonCompetencyCompetencyPage",this.planId?{competencyId:n,planId:this.planId}:{competencyId:n,courseId:this.courseId,userId:this.userId})},n.prototype.refreshCompetencies=function(n){var l=this;return(this.planId?this.competencyProvider.invalidateLearningPlan(this.planId):this.competencyProvider.invalidateCourseCompetencies(this.courseId,this.userId)).finally(function(){l.fetchCompetencies().finally(function(){n.complete()})})},n}(),m=function(){return function(){}}(),f=e(1290),h=e(1291),y=e(1292),I=e(1293),b=e(1294),g=e(1295),v=e(1296),C=e(1297),x=e(1298),P=e(1301),$=e(1302),w=e(1303),K=e(212),L=e(7),k=e(34),R=e(21),T=e(19),j=e(29),D=e(33),O=e(9),U=e(419),F=e(35),M=e(1299),W=e(191),A=e(27),E=e(22),B=e(1300),J=e(326),N=e(237),V=e(423),q=e(176),z=e(25),G=e(14),H=e(26),Q=e(97),S=e(132),X=e(36),Y=e(192),Z=e(146),nn=e(28),ln=e(17),en=e(55),tn=e(49),un=e(79),cn=e(58),on=o._14({encapsulation:2,styles:[],data:{}}),an=o._12("page-addon-competency-competencies",d,function(n){return o._42(0,[(n()(),o._16(0,0,null,null,1,"page-addon-competency-competencies",[],null,null,null,c,on)),o._15(1,49152,null,0,d,[cn.a,ln.a,s.a,_.a],null,null)],null,null)},{},{},[]),rn=e(18),sn=e(322),pn=e(323),_n=e(325),dn=e(324),mn=e(418),fn=e(640),hn=e(31),yn=e(107),In=e(238);e.d(l,"AddonCompetencyCompetenciesPageModuleNgFactory",function(){return bn});var bn=o._13(m,[],function(n){return o._25([o._26(512,o.n,o._6,[[8,[f.a,h.a,y.a,I.a,b.a,g.a,v.a,C.a,x.a,P.a,$.a,w.a,an]],[3,o.n],o.B]),o._26(4608,O.m,O.l,[o.x,[2,O.v]]),o._26(4608,rn.x,rn.x,[]),o._26(4608,rn.d,rn.d,[]),o._26(4608,sn.b,sn.a,[]),o._26(4608,pn.a,pn.b,[]),o._26(4608,_n.b,_n.a,[]),o._26(4608,dn.b,dn.a,[]),o._26(4608,ln.a,ln.a,[mn.a,sn.b,pn.a,_n.b,dn.b,ln.b,ln.c]),o._26(512,O.b,O.b,[]),o._26(512,rn.v,rn.v,[]),o._26(512,rn.i,rn.i,[]),o._26(512,rn.s,rn.s,[]),o._26(512,fn.a,fn.a,[]),o._26(512,a.a,a.a,[]),o._26(512,hn.a,hn.a,[]),o._26(512,yn.a,yn.a,[]),o._26(512,r.a,r.a,[]),o._26(512,fn.b,fn.b,[]),o._26(512,m,m,[]),o._26(256,ln.c,void 0,[]),o._26(256,ln.b,void 0,[]),o._26(256,In.a,d,[])])})}});