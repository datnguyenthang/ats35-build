webpackJsonp([41],{1871:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o.d(t,"CoreCoursesSearchPageModule",function(){return u});var r=o(0),n=o(4),s=o(1),c=o(1999),i=o(16),a=o(931),l=this&&this.__decorate||function(e,t,o,r){var n,s=arguments.length,c=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,r);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(s<3?n(c):s>3?n(t,o,c):n(t,o))||c);return s>3&&c&&Object.defineProperty(t,o,c),c},u=function(){function e(){}return e=l([Object(r.I)({declarations:[c.a],imports:[i.a,a.a,n.l.forChild(c.a),s.b.forChild()]})],e)}()},1999:function(e,t,o){"use strict";o.d(t,"a",function(){return a});var r=o(0),n=o(8),s=o(41),c=this&&this.__decorate||function(e,t,o,r){var n,s=arguments.length,c=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,r);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(s<3?n(c):s>3?n(t,o,c):n(t,o))||c);return s>3&&c&&Object.defineProperty(t,o,c),c},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e,t){this.domUtils=e,this.coursesProvider=t,this.total=0,this.page=0,this.currentSearch=""}return e.prototype.search=function(e){this.currentSearch=e,this.courses=void 0,this.page=0;var t=this.domUtils.showModalLoading("core.searching",!0);this.searchCourses().finally(function(){t.dismiss()})},e.prototype.loadMoreResults=function(e){this.searchCourses().finally(function(){e.complete()})},e.prototype.searchCourses=function(){var e=this;return this.coursesProvider.search(this.currentSearch,this.page).then(function(t){e.courses=0===e.page?t.courses:e.courses.concat(t.courses),e.total=t.total,e.page++,e.canLoadMore=e.courses.length<e.total}).catch(function(t){e.canLoadMore=!1,e.domUtils.showErrorModalDefault(t,"core.courses.errorsearching",!0)})},e=c([Object(r.m)({selector:"page-core-courses-search",template:'<ion-header>\n    <ion-navbar>\n        <ion-title>{{ \'core.courses.searchcourses\' | translate }}</ion-title>\n    </ion-navbar>\n</ion-header>\n<ion-content>\n    <core-search-box (onSubmit)="search($event)" [placeholder]="\'core.courses.search\' | translate" [searchLabel]="\'core.courses.search\' | translate" autoFocus="true" showClear="false"></core-search-box>\n\n    <div *ngIf="courses">\n        <ion-item-divider color="light">{{ \'core.courses.totalcoursesearchresults\' | translate:{$a: total} }}</ion-item-divider>\n        <core-empty-box *ngIf="total == 0" icon="search" [message]="\'core.courses.nosearchresults\' | translate"></core-empty-box>\n        <core-courses-course-list-item *ngFor="let course of courses" [course]="course"></core-courses-course-list-item>\n        <ion-infinite-scroll [enabled]="canLoadMore" (ionInfinite)="loadMoreResults($event)">\n            <ion-infinite-scroll-content></ion-infinite-scroll-content>\n        </ion-infinite-scroll>\n    </div>\n</ion-content>\n\n'}),i("design:paramtypes",[n.a,s.a])],e)}()}});