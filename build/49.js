webpackJsonp([49],{1862:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"CoreContentLinksChooseSitePageModule",function(){return f});var i=n(0),o=n(4),r=n(1991),c=n(1),a=n(16),s=n(15),l=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},f=function(){function t(){}return t=l([Object(i.I)({declarations:[r.a],imports:[a.a,s.a,o.l.forChild(r.a),c.b.forChild()]})],t)}()},1991:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(4),r=n(2),c=n(8),a=n(33),s=n(32),l=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n,i,o,r){this.navCtrl=t,this.contentLinksDelegate=n,this.sitesProvider=i,this.domUtils=o,this.contentLinksHelper=r,this.url=e.get("url")}return t.prototype.ngOnInit=function(){var t=this;if(!this.url)return this.leaveView();this.contentLinksDelegate.getActionsFor(this.url).then(function(e){return t.action=t.contentLinksHelper.getFirstValidAction(e),t.action?t.sitesProvider.getSites(t.action.sites).then(function(e){t.sites=e}):Promise.reject(null)}).catch(function(){t.domUtils.showErrorModal("core.contentlinks.errornosites",!0),t.leaveView()}).finally(function(){t.loaded=!0})},t.prototype.cancel=function(){this.leaveView()},t.prototype.siteClicked=function(t){this.action.action(t,this.navCtrl)},t.prototype.leaveView=function(){var t=this;this.sitesProvider.logout().finally(function(){t.navCtrl.setRoot("CoreLoginSitesPage")})},t=l([Object(i.m)({selector:"page-core-content-links-choose-site",template:'<ion-header>\n    <ion-navbar>\n        <ion-title>{{ \'core.contentlinks.chooseaccount\' | translate }}</ion-title>\n    </ion-navbar>\n</ion-header>\n<ion-content>\n    <core-loading [hideUntil]="loaded">\n        <ion-list>\n            <ion-item text-wrap>\n                <p class="item-heading">{{ \'core.contentlinks.chooseaccounttoopenlink\' | translate }}</p>\n                <p>{{ url }}</p>\n            </ion-item>\n            <a ion-item *ngFor="let site of sites" (click)="siteClicked(site.id)">\n                <img [src]="site.avatar" item-start>\n                <h2>{{site.fullName}}</h2>\n                <p><core-format-text clean="true" [text]="site.siteName"></core-format-text></p>\n                <p>{{site.siteUrl}}</p>\n            </a>\n            <ion-item>\n                <button ion-button block (click)="cancel()">{{ \'core.login.cancel\' | translate }}</button>\n            </ion-item>\n        </ion-list>\n    </core-loading>\n</ion-content>\n'}),f("design:paramtypes",[o.q,o.r,a.a,r.a,c.a,s.a])],t)}()}});