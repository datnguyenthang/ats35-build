webpackJsonp([23],{1889:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"CoreMainMenuPageModule",function(){return l});var r=a(0),i=a(4),o=a(1),n=a(16),s=a(2017),c=this&&this.__decorate||function(e,t,a,r){var i,o=arguments.length,n=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(o<3?i(n):o>3?i(t,a,n):i(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n},l=function(){function e(){}return e=c([Object(r.I)({declarations:[s.a],imports:[n.a,i.l.forChild(s.a),o.b.forChild()]})],e)}()},2017:function(e,t,a){"use strict";a.d(t,"a",function(){return b});var r=a(0),i=a(4),o=a(2),n=a(936),s=a(81),c=this&&this.__decorate||function(e,t,a,r){var i,o=arguments.length,n=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(o<3?i(n):o>3?i(t,a,n):i(t,a))||n);return o>3&&n&&Object.defineProperty(t,a,n),n},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(){function e(e,t,a,r){this.menuDelegate=e,this.sitesProvider=t,this.navCtrl=r,this.tabs=[],this.loaded=!1,this.showTabs=!1,this.redirectPageLoaded=!1,this.redirectPage=a.get("redirectPage"),this.redirectParams=a.get("redirectParams")}return e.prototype.ionViewDidLoad=function(){var e=this;if(this.sitesProvider.isLoggedIn()){this.showTabs=!0;var t=this.sitesProvider.getCurrentSite(),a=t.getInfo()&&0===t.getInfo().userhomepage;this.subscription=this.menuDelegate.getHandlers().subscribe(function(t){t=t.slice(0,n.a.NUM_MAIN_HANDLERS);for(var r=[],i=function(a){var i=t[a],o=e.tabs.find(function(e){return e.title==i.title&&e.icon==i.icon});r.push(o||i)},o=0;o<t.length;o++)i(o);if(e.tabs=r,e.tabs.sort(function(e,t){return t.priority-e.priority}),void 0===e.initialTab&&!e.loaded)if(e.redirectPage){e.initialTab=0;for(o=0;o<e.tabs.length;o++){var s=e.tabs[o];if(s.page==e.redirectPage){e.initialTab=o+1,s.pageParams=Object.assign(s.pageParams||{},e.redirectParams);break}}}else for(o=0;o<e.tabs.length;o++){var c=t[o];if(a&&"CoreSiteHome"==c.name||!a&&"CoreCourses"==c.name){e.initialTab=o;break}}e.loaded=e.menuDelegate.areHandlersLoaded()})}else this.navCtrl.setRoot("CoreLoginInitPage")},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},e=c([Object(r.m)({selector:"page-core-mainmenu",template:'<core-ion-tabs #mainTabs [hidden]="!showTabs" [loaded]="loaded" [selectedIndex]="initialTab" [selectedDisabled]="!!redirectPage" tabsPlacement="bottom" tabsLayout="title-hide">\n    <core-ion-tab [enabled]="false" [show]="false" [root]="redirectPage" [rootParams]="redirectParams"></core-ion-tab>\n    <core-ion-tab *ngFor="let tab of tabs" [root]="tab.page" [rootParams]="tab.pageParams" [tabTitle]="tab.title | translate" [tabIcon]="tab.icon" [tabBadge]="tab.badge" class="{{tab.class}}"></core-ion-tab>\n    <core-ion-tab root="CoreMainMenuMorePage" [tabTitle]="\'core.more\' | translate" tabIcon="more"></core-ion-tab>\n</core-ion-tabs>\n'}),l("design:paramtypes",[s.a,o.a,i.r,i.q])],e)}()}});