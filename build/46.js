webpackJsonp([46],{1866:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o.d(t,"CoreCoursesAvailableCoursesPageModule",function(){return l});var r=o(0),n=o(4),s=o(1),i=o(1994),c=o(16),a=o(931),u=this&&this.__decorate||function(e,t,o,r){var n,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(i=(s<3?n(i):s>3?n(t,o,i):n(t,o))||i);return s>3&&i&&Object.defineProperty(t,o,i),i},l=function(){function e(){}return e=u([Object(r.I)({declarations:[i.a],imports:[c.a,a.a,n.l.forChild(i.a),s.b.forChild()]})],e)}()},1994:function(e,t,o){"use strict";o.d(t,"a",function(){return u});var r=o(0),n=o(2),s=o(8),i=o(41),c=this&&this.__decorate||function(e,t,o,r){var n,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(i=(s<3?n(i):s>3?n(t,o,i):n(t,o))||i);return s>3&&i&&Object.defineProperty(t,o,i),i},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,o){this.coursesProvider=e,this.domUtils=t,this.sitesProvider=o,this.courses=[]}return e.prototype.ionViewDidLoad=function(){var e=this;this.loadCourses().finally(function(){e.coursesLoaded=!0})},e.prototype.loadCourses=function(){var e=this,t=this.sitesProvider.getCurrentSite().getSiteHomeId();return this.coursesProvider.getCoursesByField().then(function(o){e.courses=o.filter(function(e){return e.id!=t})}).catch(function(t){e.domUtils.showErrorModalDefault(t,"core.courses.errorloadcourses",!0)})},e.prototype.refreshCourses=function(e){var t=this,o=[];o.push(this.coursesProvider.invalidateUserCourses()),o.push(this.coursesProvider.invalidateCoursesByField()),Promise.all(o).finally(function(){t.loadCourses().finally(function(){e.complete()})})},e=c([Object(r.m)({selector:"page-core-courses-available-courses",template:'<ion-header>\n    <ion-navbar>\n        <ion-title>{{ \'core.courses.availablecourses\' | translate }}</ion-title>\n    </ion-navbar>\n</ion-header>\n<ion-content>\n    <ion-refresher [enabled]="coursesLoaded" (ionRefresh)="refreshCourses($event)">\n        <ion-refresher-content pullingText="{{ \'core.pulltorefresh\' | translate }}"></ion-refresher-content>\n    </ion-refresher>\n    <core-loading [hideUntil]="coursesLoaded">\n        <div *ngIf="courses.length > 0">\n            <core-courses-course-list-item *ngFor="let course of courses" [course]="course"></core-courses-course-list-item>\n        </div>\n        <core-empty-box *ngIf="!courses.length" icon="ionic" [message]="\'core.courses.nocourses\' | translate"></core-empty-box>\n    </core-loading>\n</ion-content>\n'}),a("design:paramtypes",[i.a,s.a,n.a])],e)}()}});